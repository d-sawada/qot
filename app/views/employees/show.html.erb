<p id="notice"><%= notice %></p>

<% if @list == "day" %>
  <%= link_to "打刻修正を登録", new_request_url(id: @employee.id, date: @tday) %>
<% end %>
<%= link_to "従業員情報を編集", edit_employee_path(@employee) %>
<%= link_to "従業員を削除", employee_url(@employee, list: @list), method: :delete %>

<% if @list == "day" %>
  <h1><%= @employee.name + ">" %><%= link_to Date.parse(@tday).strftime("%Y年%-m月"), employee_url(list: "month", day: @tday) %><%= ">" + Date.parse(@tday).strftime("%Y年%-m月%-d日") %></h1>
  <%= link_to "前の日", employee_url(list: "day", day: Date.parse(@tday).yesterday.to_s) %>
  <%= link_to "次の日", employee_url(list: "day", day: Date.parse(@tday).tomorrow.to_s) %>
<% elsif @list == "month" || @list == "schedule" %>
  <h1><%= @employee.name + ">" + Date.parse(@tday).strftime("%Y年%-m月") %></h1>
  <%= link_to "前の月", employee_url(list: "month", day: Date.parse(@tday).prev_month.to_s) %>
  <%= link_to "次の月", employee_url(list: "month", day: Date.parse(@tday).next_month.to_s) %>
<% end %>

<table class="dragable">
  <thead>
    <tr>
      <% if @list == "month" %>
        <th class="num">日<span/></th>
      <% end %>
      <% @table_key.each do |key| %>
        <th class="case"><%= key %><span/></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% @table_vals.zip(1..@day_num).each do |vals, i| %>
      <tr>
        <% if @list == "month" %>
          <td><%= link_to i, employee_path(list: "day", day: Date.parse(@tday).change(day: i)) %></td>
        <% end %>
        <% vals.each do |val| %>
          <td><%= val %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
